!function(){"use strict";function a(a,b){for(var c=!1,d=0;d<a.length;d++)if(c=b(a[d],d,a))return c;return c}function b(b){return function(c){function d(){return a(b,function(a){var b=a.re.exec(c);if(b){var d=b[0];return c=c.slice(d.length),{raw:d,matched:a.f(b,f)}}})}for(var e=[],f=1;""!==c;){var g=d();if(!g){var h=new SyntaxError("Unexpected character: "+c[0]);throw h.line=f,h}g.matched.line=f,f+=g.raw.replace(/[^\n]/g,"").length,e.push(g.matched)}return e}}function c(a){return a.reduce(function(a,b){if(0!==a.length&&("]"===b.type||"}"===b.type))for(var c=a.length-1;;){if(" "!==a[c].type){","===a[c].type&&a.splice(c,1);break}c-=1}return a.push(b),a},[])}function d(a){var b=l(a);return b=c(b),b.reduce(function(a,b){return a+b.match},"")}function e(a,b){return JSON.parse(d(a),b)}function f(a){var b=a.shift();if(!b){var c=new SyntaxError("Unexpected end-of-file");throw c}return b}function g(a,b){var c,d,e,g,h=f(a),j={};switch(h.type){case"}":return{};case"string":if(c=h.value,d=f(a),":"!==d.type)throw g=new SyntaxError("Unexpected token: "+d.type+", expected colon"),g.line=h.line,g;e=i(a,b),e=b?b(c,e):e,void 0!==e&&(j[c]=e);break;default:throw g=new SyntaxError("Unexpected token: "+h.type+", expected string or }"),g.line=h.line,g}for(;;)switch(h=f(a),h.type){case"}":return j;case",":if(h=f(a),"string"!==h.type)throw g=new SyntaxError("Unexpected token: "+h.type+", expected string"),g.line=h.line,g;if(c=h.value,d=f(a),":"!==d.type)throw g=new SyntaxError("Unexpected token: "+d.type+", expected colon"),g.line=h.line,g;e=i(a,b),e=b?b(c,e):e,void 0!==e&&(j[c]=e);break;default:throw g=new SyntaxError("Unexpected token: "+h.type+", expected , or }"),g.line=h.line,g}}function h(a,b){var c,d,e=f(a),g=[],h=0;switch(e.type){case"]":return[];default:a.unshift(e),c=i(a,b),g[h]=b?b(""+h,c):c}for(;;)switch(e=f(a),e.type){case"]":return g;case",":h+=1,c=i(a,b),g[h]=b?b(""+h,c):c;break;default:throw d=new SyntaxError("Unexpected token: "+e.type+", expected , or }"),d.line=e.line,d}}function i(a,b,c){var d,e,i=f(a);switch(i.type){case"{":d=g(a,b);break;case"[":d=h(a,b);break;case"string":case"number":d=i.value;break;case"keyword":switch(i.match){case"null":d=null;break;case"true":d=!0;break;case"false":d=!1}break;default:throw e=new SyntaxError("Unexpected token: "+i.type),e.line=i.line,e}if(c&&(d=b?b("",d):d),c&&0!==a.length)throw e=new SyntaxError("Unexpected token: "+a[0].type+", expected end-of-input"),e.line=a[0].line,e;return d}function j(a,b){var d=l(a);return d=c(d),d=d.filter(function(a){return" "!==a.type}),i(d,b,!0)}var k=function(){function a(a){return function(b){return{type:a,match:b[0]}}}function b(a){var b=a[1].replace(/([^'\\]|\\['bnrtf\\]|\\u[0-9a-fA-F]{4})/g,function(a){return'"'===a?'\\"':"\\'"===a?"'":a});return{type:"string",match:'"'+b+'"',value:JSON.parse('"'+b+'"')}}function c(a){return{type:"string",match:a[0],value:JSON.parse(a[0])}}function d(a){return{type:"string",value:a[0],match:'"'+a[0].replace(/./g,function(a){return"\\"===a?"\\\\":a})+'"'}}function e(a){return{type:" ",match:a[0].replace(/./g,function(a){return/\s/.test(a)?a:" "})}}function f(a){return{type:"number",match:a[0],value:parseFloat(a[0])}}return[{re:/^\s+/,f:a(" ")},{re:/^\{/,f:a("{")},{re:/^\}/,f:a("}")},{re:/^\[/,f:a("[")},{re:/^\]/,f:a("]")},{re:/^,/,f:a(",")},{re:/^:/,f:a(":")},{re:/^(true|false|null)/,f:a("keyword")},{re:/^\-?\d+(\.\d+)?([eE][+-]?\d+)?/,f:f},{re:/^"([^"\\]|\\["bnrtf\\]|\\u[0-9a-fA-F]{4})*"/,f:c},{re:/^'(([^'\\]|\\['bnrtf\\]|\\u[0-9a-fA-F]{4})*)'/,f:b},{re:/^\/\/.*?\n/,f:e},{re:/^\/\*[\s\S]*?\*\//,f:e},{re:/^[a-zA-Z0-9_\-+\.\*\?!\|&%\^\/#\\]+/,f:d}]}(),l=b(k),m={transform:d,parse:e,parse2:j};if("undefined"!=typeof window)window.RJSON=m;else if("undefined"!=typeof exports)for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&(exports[n]=m[n])}();
//# sourceMappingURL=relaxed-json.min.js.map