!function(){"use strict";function a(a,b){for(var c=!1,d=0;d<a.length;d++)if(c=b(a[d],d,a))return c;return c}function b(b){return function(c){function d(){return a(b,function(a){var b=a.re.exec(c);if(b){var d=b[0];return c=c.slice(d.length),{raw:d,matched:a.f(b,f)}}})}for(var e=[],f=1;""!==c;){var g=d();if(!g){var h=new SyntaxError("Unexpected character: "+c[0]);throw h.line=f,h}g.matched.line=f,f+=g.raw.replace(/[^\n]/g,"").length,e.push(g.matched)}return e}}function c(a){function b(a){return function(b){return{type:a,match:b[0]}}}function c(a){var b=a[1].replace(/([^'\\]|\\['bnrtf\\]|\\u[0-9a-fA-F]{4})/g,function(a){return'"'===a?'\\"':"\\'"===a?"'":a});return{type:"string",match:'"'+b+'"',value:JSON.parse('"'+b+'"')}}function d(a){return{type:"string",match:a[0],value:JSON.parse(a[0])}}function e(a){return{type:"string",value:a[0],match:'"'+a[0].replace(/./g,function(a){return"\\"===a?"\\\\":a})+'"'}}function f(a){return{type:" ",match:a[0].replace(/./g,function(a){return/\s/.test(a)?a:" "})}}function g(a){return{type:"number",match:a[0],value:parseFloat(a[0])}}var h=[{re:/^\s+/,f:b(" ")},{re:/^\{/,f:b("{")},{re:/^\}/,f:b("}")},{re:/^\[/,f:b("[")},{re:/^\]/,f:b("]")},{re:/^,/,f:b(",")},{re:/^:/,f:b(":")},{re:/^(true|false|null)/,f:b("keyword")},{re:/^\-?\d+(\.\d+)?([eE][+-]?\d+)?/,f:g},{re:/^"([^"\\]|\\["bnrtf\\]|\\u[0-9a-fA-F]{4})*"/,f:d}];return a&&(h=h.concat([{re:/^'(([^'\\]|\\['bnrtf\\]|\\u[0-9a-fA-F]{4})*)'/,f:c},{re:/^\/\/.*?\n/,f:f},{re:/^\/\*[\s\S]*?\*\//,f:f},{re:/^[a-zA-Z0-9_\-+\.\*\?!\|&%\^\/#\\]+/,f:e}])),h}function d(a){return a.reduce(function(a,b){if(0!==a.length&&("]"===b.type||"}"===b.type))for(var c=a.length-1;;){if(" "!==a[c].type){","===a[c].type&&a.splice(c,1);break}c-=1}return a.push(b),a},[])}function e(a){var b=m(a);return b=d(b),b.reduce(function(a,b){return a+b.match},"")}function f(a,b){return JSON.parse(e(a),b)}function g(a){var b=a.shift();if(!b){var c=new SyntaxError("Unexpected end-of-file");throw c}return b}function h(a,b){var c,d,e,f,h=g(a),i={};switch(h.type){case"}":return{};case"string":if(c=h.value,d=g(a),":"!==d.type)throw f=new SyntaxError("Unexpected token: "+d.type+", expected colon"),f.line=h.line,f;e=j(a,b),e=b?b(c,e):e,void 0!==e&&(i[c]=e);break;default:throw f=new SyntaxError("Unexpected token: "+h.type+", expected string or }"),f.line=h.line,f}for(;;)switch(h=g(a),h.type){case"}":return i;case",":if(h=g(a),"string"!==h.type)throw f=new SyntaxError("Unexpected token: "+h.type+", expected string"),f.line=h.line,f;if(c=h.value,d=g(a),":"!==d.type)throw f=new SyntaxError("Unexpected token: "+d.type+", expected colon"),f.line=h.line,f;e=j(a,b),e=b?b(c,e):e,void 0!==e&&(i[c]=e);break;default:throw f=new SyntaxError("Unexpected token: "+h.type+", expected , or }"),f.line=h.line,f}}function i(a,b){var c,d,e=g(a),f=[],h=0;switch(e.type){case"]":return[];default:a.unshift(e),c=j(a,b),f[h]=b?b(""+h,c):c}for(;;)switch(e=g(a),e.type){case"]":return f;case",":h+=1,c=j(a,b),f[h]=b?b(""+h,c):c;break;default:throw d=new SyntaxError("Unexpected token: "+e.type+", expected , or }"),d.line=e.line,d}}function j(a,b,c){var d,e,f=g(a);switch(f.type){case"{":d=h(a,b);break;case"[":d=i(a,b);break;case"string":case"number":d=f.value;break;case"keyword":switch(f.match){case"null":d=null;break;case"true":d=!0;break;case"false":d=!1}break;default:throw e=new SyntaxError("Unexpected token: "+f.type),e.line=f.line,e}if(c&&(d=b?b("",d):d),c&&0!==a.length)throw e=new SyntaxError("Unexpected token: "+a[0].type+", expected end-of-input"),e.line=a[0].line,e;return d}function k(a,b){var c=m(a);return c=d(c),c=c.filter(function(a){return" "!==a.type}),j(c,b,!0)}function l(a,b){var c=n(a);return c=c.filter(function(a){return" "!==a.type}),j(c,b,!0)}var m=b(c(!0)),n=b(c(!1)),o={transform:e,parse:f,parse2:k,parse3:l};if("undefined"!=typeof window)window.RJSON=o;else if("undefined"!=typeof exports)for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(exports[p]=o[p])}();
//# sourceMappingURL=relaxed-json.min.js.map